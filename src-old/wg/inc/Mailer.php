<?phpclass Mailer {	public $from = '';	public $website = '';	public $content = '';	public $charset = '';	public $title = '';	public function __contruct() {		$this->from = 'postmaster@' . $_SERVER['HTTP_HOST'];		$this->website = $_SERVER['HTTP_HOST'];		$this->content = '<p>Mail content in HTML</p><ul><li>From: %from%</li><li>To: %to%</li><li>Website: %website%</li><li>Charset: %charset%</li><li>Title: %title%</li><li>Date: %date%</li></ul>';		$this->charset = 'utf-8';		$this->title = 'New message from %from%';	}	/**	 * @param string $to L'adresse mail du destinataire.	 * @return boolean	 */	public function send($to) {			$limite = "_----------=_parties_".md5(uniqid(rand()));			$header  = "Reply-to: ".$this->from."\n";			$header .= "From: ".$this->from."\n";			$header .= "X-Sender: <".$this->website.">\n";			$header .= "X-Mailer: PHP\n";			$header .= "X-auth-smtp-user: ".$this->from." \n";			$header .= "X-abuse-contact: ".$this->from." \n";			$header .= "Date: ".date("D, j M Y G:i:s O")."\n";			$header .= "MIME-Version: 1.0\n";			$header .= "Content-Type: multipart/alternative; boundary=\"".$limite."\"";			$message = "";			$content = $this->replaceProperties($this->content, $to);			$message .= "--".$limite."\n";			$message .= "Content-Type: text/plain\n";			$message .= "charset=\"iso-8859-1\"\n";			$message .= "Content-Transfer-Encoding: 8bit\n\n";			$message .= strip_tags($content);			$message .= "\n\n--".$limite."\n";			$message .= "Content-Type: text/html; ";			$message .= "charset=\"".$this->charset."\"; ";			$message .= "Content-Transfer-Encoding: 8bit;\n\n";			$message .= $content;			$message .= "\n--".$limite."--";			return @mail(				$to,				$this->replaceProperties($this->title, $to),				$message,				$header			);	}	protected function replaceProperties($str, $to) {		return str_replace(array(				'%from%',				'%to%',				'%website%',				'%charset%',				'%title%',				'%date%'			), array(				$this->from,				$to,				$this->website,				$this->charset,				$this->title,				date("D, j M Y G:i:s")		), $str);	}}?>