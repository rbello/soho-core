<?phpclass LastLogsWidget implements Widget {	public function display($deleteButton=null) {		require_once WG::base('inc/HTMLPurifier.standalone.php');		$purifier = new HTMLPurifier();		echo '<div class="widget widget-lastlogs">';		echo '<h2'.($deleteButton !== null ? ' class="editable"' : '').'><img src="wg/modules/activity/public/activity.png" /> Logs';		if ($deleteButton !== null) {			echo '<div class="edit">'.$deleteButton.'</div>';		}		echo '</h2>';		WG::lib('LogStackParser.php');		$parser = new LogStackParser(4, true);		$stacks = $parser->data;		foreach ($stacks as $stack) {			echo '<div>';			echo '<img src="data/team/'.$stack['user']->thumb.'" />';			echo '<p>'.htmlspecialchars($stack['title']).'</p><ol>';			$max = 10;			foreach ($stack['logs'] as $log) {				echo '<li>'.$purifier->purify($log->log).' <small>'.WG::rdate($log->creation).'</small></li>';				if ($max-- <= 0) {					echo '<li><a href="?view=activity">More ...</a></li>';					break;				}			}			echo '</ol></div>';		}		echo '</div>';		return true;	}}?>